name: <%= name %>
version: <%= version %>
summary: <%= summary %>
description: <%= description %>

apps:
  <% apps.each do |app| %>
    <%= app.to_yaml.gsub("---\n", "\n").gsub("\n", "\n  ")%>
  <% end %>

parts:
  <%= name %>:
    plugin: nil
    stage-packages:
      - <%= name.split('.')[-1] %>
    filesets:
      binaries:
        - usr/bin
      libraries:
        - usr/lib/*
      headers:
        - usr/include/*
        - usr/lib/*/cmake/*
    stage:
      - etc
      - $libraries
      - $binaries
      - usr/share/*
    snap:
      - etc
      - $libraries
      - $binaries
      - usr/share/*
  environment:
    plugin: copy
    files:
      qt5-launch: bin/qt5-launch
  integration:
    plugin: nil
    stage-packages:
      - breeze-icon-theme
      - plasma-integration
    snap:
      - usr/lib/*
      - usr/share/*
